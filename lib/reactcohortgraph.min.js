!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ReactCohortGraph=t():e.ReactCohortGraph=t()}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Table={display:"table"},t.TableRow={display:"table-row"},t.TableHeading={display:"table-header-group"},t.TableBody={display:"table-row-group"},t.TableCell={display:"table-cell"}},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),u=r(!function(){var e=new Error('Cannot find module "react"');throw e.code="MODULE_NOT_FOUND",e}()),c=o(u),s=r(!function(){var e=new Error('Cannot find module "prop-types"');throw e.code="MODULE_NOT_FOUND",e}()),f=o(s),d=r(0),h=r(2),p=o(h),y=r(3),b=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={dataStore:{},currentType:""},r}return l(t,e),i(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.data;this.setState({currentType:Object.keys(t)[0]}),this.setState({dataStore:new p.default(e.data||{})})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.dataStore,r=e.currentType,o=t.getHeader(r),n=t.getRows(r);return c.default.createElement("div",{style:d.Table},c.default.createElement("div",{style:d.TableHeading},o.map(function(e){return c.default.createElement(y.HeaderCell,e,e.value)})),c.default.createElement("div",{style:d.TableBody},n.map(function(e){return c.default.createElement("div",{style:d.TableRow},e.map(function(e){return c.default.createElement(y.BodyCell,e," ",e.value," ")}))})))}}]),t}(c.default.Component);b.propTypes={data:f.default.object.isRequired,cellClickEvent:f.default.func,showEmptyDataMessage:f.default.bool,customEmptyDataMessage:f.default.string,columnClickEvent:f.default.func,maxDays:f.default.number,maxWeeks:f.default.number,maxMonths:f.default.number,showAbsolute:f.default.bool,toggleValues:f.default.bool,showHeaderValues:f.default.bool},t.default=b},function(e,t,r){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function e(t,r){if(n(this,e),i.call(this),this.isValid=!0,this._checkValidity(t),this.rawStore=t,this.store={},this.headers={},!this.isValid)throw new Error("Invalid Data for cohort graph..!");this._buildStore(t),this._buildHeaders()},i=function(){var e=this;this._checkValidity=function(t){if("object"!==(void 0===t?"undefined":a(t))||Array.isArray(t))e.isValid=!1;else for(var r in t){if(!t.hasOwnProperty(r)||"object"!==a(t[r])||Array.isArray(t[r]))return void(e.isValid=!1);for(var o in t[r])if(t[r].hasOwnProperty(o)&&Array.isArray(t[r][o]))return void(e.isValid=!1)}},this._buildStore=function(t){for(var r in t)if(t.hasOwnProperty(r)){e.store[r]=[];for(var n in t[r])!function(n){if(t[r].hasOwnProperty(n)){var a={};a.type=r,a.value=n,a.valueFor=n,a.total=t[r][n][0],a.percent=100,a.color="#F1F1F1",e.store[r].push([a].concat(o(t[r][n].map(function(t){var r=e._getPercentage(a.total,t);return{type:type,value:t,valueFor:n,total:a.total,percent:r,color:e._shadeCellWithColor(r)}}))))}}(n)}},this._buildHeaders=function(){for(var t in e.store)!function(t){if(e.store.hasOwnProperty(t)){e.headers[t]=[],e.headers[t].push({value:t});var r={};r.isHeader=!0,r.index=0,r.type=t,r.value=t,r.valueFor=t,r.total=e._sumOfColumnWithIndex(e.store[t],1),r.percent=100,r.color="#F1F1F1",e.headers[t].push(r);var o=e.store[t][0];o.forEach(function(n,a){if(!(a<2)){var l=e._sumOfColumnWithIndex(e.store[t],a),i=e._getPercentage(r.total,l);e.headers[t].push({isHeader:!0,index:a,type:type,value:l,valueFor:o[0],total:r.total,percent:i,color:e._shadeCellWithColor(i)})}})}}(t)},this._sumOfArrayElements=function(e){return e.reduce(function(e,t){return e+t})},this._sumOfColumnWithIndex=function(e,t){var r=0;return e.forEach(function(e){try{r+=e[t]}catch(e){r+=0}}),r},this.getTypeData=function(t){if(e.store.hasOwnProperty(t))return e.store[t];throw new Error("No Data Found for type => "+t)},this.getHighestRowSize=function(t){if(e.store.hasOwnProperty(t))return e.store[t][0].length;throw new Error("No Columns Found for type => "+t)},this.getCellData=function(t,r,o){if(!e.store.hasOwnProperty(t))throw new Error("No Data Found for cell with type => "+t+", row => "+r+", col => "+o);try{return e.store[t][r][o]}catch(e){throw new Error("No Data Found for cell with type => "+t+", row => "+r+", col => "+o)}},this.getHeaderCellData=function(t,r){if(!e.headers.hasOwnProperty(t))throw new Error("No Data Found for cell with type => "+t+", col => "+r);try{return e.headers[t][r]}catch(e){throw new Error("No Data Found for cell with type => "+t+", col => "+r)}},this.getHeader=function(t){if(e.headers.hasOwnProperty(t))return e.headers[t];throw new Error("No Headers Found for type => "+t)},this.getRows=function(t){if(e.store.hasOwnProperty(t))return e.store[t];throw new Error("No Headers Found for type => "+t)},this._shadeCellWithColor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#3f83a3",r=1-Math.ceil(e/10)/10,o=parseInt(t.slice(1),16),n=r<0?0:255,a=r<0?-1*r:r,l=o>>16,i=o>>8&255,u=255&o;return("#\n            "+(16777216+65536*(Math.round((n-l)*a)+l)+256*(Math.round((n-i)*a)+i)+(Math.round((n-u)*a)+u))).toString(16).slice(1)},this._getPercentage=function(e,t){return e?Math.round(t/e*100*100)/100:e},this._isValidHex=function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderCell=t.BodyCell=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(!function(){var e=new Error('Cannot find module "react"');throw e.code="MODULE_NOT_FOUND",e}()),a=function(e){return e&&e.__esModule?e:{default:e}}(n),l=r(0);t.BodyCell=function(e){return a.default.createElement("div",{style:o({},l.TableCell,{backgroundColor:e.color})},e.children)},t.HeaderCell=function(e){return a.default.createElement("div",{style:o({},l.TableCell,{backgroundColor:e.color})},e.children)}},function(e,t,r){"use strict";e.exports=r(1)}])});